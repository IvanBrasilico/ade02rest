{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Portal dos dados de controle de carga Base Legal Regulamento Aduaneiro Portaria de Alfandegamento Ato regulamentador e anexos Ato Anexo Acesso \u00e0 API Swagger UI","title":"Resumo"},{"location":"#portal-dos-dados-de-controle-de-carga","text":"","title":"Portal dos dados de controle de carga"},{"location":"#base-legal","text":"Regulamento Aduaneiro Portaria de Alfandegamento Ato regulamentador e anexos Ato Anexo","title":"Base Legal"},{"location":"#acesso-a-api","text":"Swagger UI","title":"Acesso \u00e0 API"},{"location":"DefinicoesGerais/","text":"API de recebimento e centraliza\u00e7\u00e3o dos dados de controle de carga Sistema de registro das opera\u00e7\u00f5es de entrada e sa\u00edda de pessoas e ve\u00edculos, movimenta\u00e7\u00e3o de carga e armazenamento de mercadorias em recintos alfandegados, \u00e1reas alfandegadas ou recintos autorizados a operar com mercadorias sob controle aduaneiro Defini\u00e7\u00f5es gerais A modelagem das Entidades/Eventos est\u00e1 definida em formato OpenAPI3, vers\u00e3o yaml A modelagem dos \"endpoints\" (fun\u00e7\u00f5es da API) tamb\u00e9m est\u00e1 definida neste arquivo. Os endpoints transmitir\u00e3o JSON conforme especificado no arquivo OpenAPI. Os endpoints retornar\u00e3o JSON conforme especificado no arquivo OpenAPI. O IDEvento \u00e9 um campo transmitido pelo interveniente, e DEVE ser o identificador sequencial da informa\u00e7\u00e3o no Sistema de origem. Alguns \"endpoints especiais\" n\u00e3o definidos ou detalhados na API estar\u00e3o definidos e detalhados aqui na se\u00e7\u00e3o \"endpoints especiais\". Nestes haver\u00e1 funcionalidade para enviar e receber lista de eventos. As listas s\u00e3o arquivos JSON que poder\u00e3o ser compactados no formato gzip. Em caso de conting\u00eancia(indisponibilidade ou falha do sistema informatizado), a medida de conting\u00eancia adotada pelo interveniente deve prover os mesmos dados que seriam coletados pelo fluxo normal do sistema e devem ser alimentados no Sistema assim que este seja restabelecido. Os Eventos devem ser armazenados pelo prazo m\u00ednimo de 6 anos no sistema original, juntamente de dados adicionais que tenham dado origem aos Eventos. A cada recep\u00e7\u00e3o de Evento ser\u00e1 fornecido um recibo digital que deve ser guardado no registro correspondente do Sistema do Recinto. Sempre que o tipo for \"Data/date-time\" significa data UTC no formato ISO: UTC Data ISO 8601 - AAAA-MM-DDThh:mmZ Ex. 2019-04-17T09:52:01Z Os campos com n\u00famero de documento (CPF, CNPJ, CNH, etc) devem conter somente n\u00fameros, sem m\u00e1scaras ou caracteres especiais O Servidor que recebe os eventos DEVE adicionar as seguintes informa\u00e7\u00f5es: Data e hora da transmiss\u00e3o do evento Identifica\u00e7\u00e3o do c\u00f3digo do recinto que transmitiu evento IP do computador que transmitiu o evento Hash do JSON completo do Evento, visando prevenir modifica\u00e7\u00f5es. Deve haver uma fun\u00e7\u00e3o para conferir o Hash do Evento e este deve ser transmitido na resposta, bem como gravado em um log de sistema de registro de eventos recebidos Haver\u00e1 fun\u00e7\u00e3o no Portal \u00danico do Com\u00e9rcio Exterior para representante com Certificado digital gerar chaves p\u00fablica e privada do interveniente para acesso ao Sistema, definindo senha da chave privada. O representante ent\u00e3o deve baixar a chave privada e utilizar para transmiss\u00e3o. Na transmiss\u00e3o, deve ser inclu\u00eddo um campo intitulado \"assinado\" que conter\u00e1 o c\u00f3digo do recinto assinado com esta chave privada RSA. O Servidor ir\u00e1 usar a chave privada gerada para descriptografar no recebimento, garantindo assim n\u00e3o rep\u00fadio e autenticidade. Al\u00e9m disso, o representante cadastrar\u00e1 a senha para acesso ao sistema no Portal \u00fanico. Assim, o sistema do recinto ou \u00e1rea que efetuar\u00e1 a conex\u00e3o primeiro informa recinto e senha no endpoint de autentica\u00e7\u00e3o e receber\u00e1 um token. Ent\u00e3o, a cada evento transmitido, enviar\u00e1 nos headers o token e no conte\u00fado o campo assinado. Esta forma de autentica\u00e7\u00e3o de dois modos (senha e certificado criptografado) permitir\u00e1 maior seguran\u00e7a na conex\u00e3o. Endpoints especiais TODO Evento deve estar acess\u00edvel para consulta por usu\u00e1rios da Receita, em endpoint REST com nome do evento seguido da express\u00e3o 'eventos/list'. O Endpoint receber\u00e1 com op\u00e7\u00e3o de filtragem por intervalo de datas de transmiss\u00e3o ou por IDEvento inicial, e opcionalmente tamb\u00e9m por Unidade ou Recinto. Este perfil estar\u00e1 dispon\u00edvel para cadastramento no Senha Rede/E-FAU. Formato do filtro: { \"IDEvento\": integer, # IDEvento a partir do qual pesquisar (maior que) OU''' \"recinto\": \"string\", # Codigo do Recinto a pesquisar \"tipoevento\": \"string\" # Nome da classe de Evento \"datainicial\": \"string($date-time)\", # Data de ocorr\u00eancia f\u00edsica do evento - final de pesquisa IANA UTC DateTime \"datafinal\" : \"string($date-time)\" # Data de ocorr\u00eancia f\u00edsica do evento - final de pesquisa IANA UTC DateTime } TODO Evento pode ser enviado em lista para ser processada de uma s\u00f3 vez, atrav\u00e9s do endpoint 'set_eventos_novos', que receber\u00e1 um arquivo JSON, opcionalmente comprimido no formato gzip. O Arquivo JSON ter\u00e1 o formato: {<TipoEvento> : [<Lista de Eventos>]} Sendo que em cada item/evento seguir\u00e1 examente o mesmo formato de JSON definido no endpoint espec\u00edfico de cada Evento no arquivo OpenAPI. Arquivos multim\u00eddia ter\u00e3o endpoint 'upload_file' para adi\u00e7\u00e3o a Evento existente e 'get_file' para recupera\u00e7\u00e3o do arquivo. Neste caso a transmiss\u00e3o de dados segue o padr\u00e3o HTTP \"multipartform/data\"","title":"Defini\u00e7\u00f5es gerais"},{"location":"DefinicoesGerais/#api-de-recebimento-e-centralizacao-dos-dados-de-controle-de-carga","text":"Sistema de registro das opera\u00e7\u00f5es de entrada e sa\u00edda de pessoas e ve\u00edculos, movimenta\u00e7\u00e3o de carga e armazenamento de mercadorias em recintos alfandegados, \u00e1reas alfandegadas ou recintos autorizados a operar com mercadorias sob controle aduaneiro","title":"API de recebimento e centraliza\u00e7\u00e3o dos dados de controle de carga"},{"location":"DefinicoesGerais/#definicoes-gerais","text":"A modelagem das Entidades/Eventos est\u00e1 definida em formato OpenAPI3, vers\u00e3o yaml A modelagem dos \"endpoints\" (fun\u00e7\u00f5es da API) tamb\u00e9m est\u00e1 definida neste arquivo. Os endpoints transmitir\u00e3o JSON conforme especificado no arquivo OpenAPI. Os endpoints retornar\u00e3o JSON conforme especificado no arquivo OpenAPI. O IDEvento \u00e9 um campo transmitido pelo interveniente, e DEVE ser o identificador sequencial da informa\u00e7\u00e3o no Sistema de origem. Alguns \"endpoints especiais\" n\u00e3o definidos ou detalhados na API estar\u00e3o definidos e detalhados aqui na se\u00e7\u00e3o \"endpoints especiais\". Nestes haver\u00e1 funcionalidade para enviar e receber lista de eventos. As listas s\u00e3o arquivos JSON que poder\u00e3o ser compactados no formato gzip. Em caso de conting\u00eancia(indisponibilidade ou falha do sistema informatizado), a medida de conting\u00eancia adotada pelo interveniente deve prover os mesmos dados que seriam coletados pelo fluxo normal do sistema e devem ser alimentados no Sistema assim que este seja restabelecido. Os Eventos devem ser armazenados pelo prazo m\u00ednimo de 6 anos no sistema original, juntamente de dados adicionais que tenham dado origem aos Eventos. A cada recep\u00e7\u00e3o de Evento ser\u00e1 fornecido um recibo digital que deve ser guardado no registro correspondente do Sistema do Recinto. Sempre que o tipo for \"Data/date-time\" significa data UTC no formato ISO: UTC Data ISO 8601 - AAAA-MM-DDThh:mmZ Ex. 2019-04-17T09:52:01Z Os campos com n\u00famero de documento (CPF, CNPJ, CNH, etc) devem conter somente n\u00fameros, sem m\u00e1scaras ou caracteres especiais O Servidor que recebe os eventos DEVE adicionar as seguintes informa\u00e7\u00f5es: Data e hora da transmiss\u00e3o do evento Identifica\u00e7\u00e3o do c\u00f3digo do recinto que transmitiu evento IP do computador que transmitiu o evento Hash do JSON completo do Evento, visando prevenir modifica\u00e7\u00f5es. Deve haver uma fun\u00e7\u00e3o para conferir o Hash do Evento e este deve ser transmitido na resposta, bem como gravado em um log de sistema de registro de eventos recebidos Haver\u00e1 fun\u00e7\u00e3o no Portal \u00danico do Com\u00e9rcio Exterior para representante com Certificado digital gerar chaves p\u00fablica e privada do interveniente para acesso ao Sistema, definindo senha da chave privada. O representante ent\u00e3o deve baixar a chave privada e utilizar para transmiss\u00e3o. Na transmiss\u00e3o, deve ser inclu\u00eddo um campo intitulado \"assinado\" que conter\u00e1 o c\u00f3digo do recinto assinado com esta chave privada RSA. O Servidor ir\u00e1 usar a chave privada gerada para descriptografar no recebimento, garantindo assim n\u00e3o rep\u00fadio e autenticidade. Al\u00e9m disso, o representante cadastrar\u00e1 a senha para acesso ao sistema no Portal \u00fanico. Assim, o sistema do recinto ou \u00e1rea que efetuar\u00e1 a conex\u00e3o primeiro informa recinto e senha no endpoint de autentica\u00e7\u00e3o e receber\u00e1 um token. Ent\u00e3o, a cada evento transmitido, enviar\u00e1 nos headers o token e no conte\u00fado o campo assinado. Esta forma de autentica\u00e7\u00e3o de dois modos (senha e certificado criptografado) permitir\u00e1 maior seguran\u00e7a na conex\u00e3o.","title":"Defini\u00e7\u00f5es gerais"},{"location":"DefinicoesGerais/#endpoints-especiais","text":"TODO Evento deve estar acess\u00edvel para consulta por usu\u00e1rios da Receita, em endpoint REST com nome do evento seguido da express\u00e3o 'eventos/list'. O Endpoint receber\u00e1 com op\u00e7\u00e3o de filtragem por intervalo de datas de transmiss\u00e3o ou por IDEvento inicial, e opcionalmente tamb\u00e9m por Unidade ou Recinto. Este perfil estar\u00e1 dispon\u00edvel para cadastramento no Senha Rede/E-FAU. Formato do filtro: { \"IDEvento\": integer, # IDEvento a partir do qual pesquisar (maior que) OU''' \"recinto\": \"string\", # Codigo do Recinto a pesquisar \"tipoevento\": \"string\" # Nome da classe de Evento \"datainicial\": \"string($date-time)\", # Data de ocorr\u00eancia f\u00edsica do evento - final de pesquisa IANA UTC DateTime \"datafinal\" : \"string($date-time)\" # Data de ocorr\u00eancia f\u00edsica do evento - final de pesquisa IANA UTC DateTime } TODO Evento pode ser enviado em lista para ser processada de uma s\u00f3 vez, atrav\u00e9s do endpoint 'set_eventos_novos', que receber\u00e1 um arquivo JSON, opcionalmente comprimido no formato gzip. O Arquivo JSON ter\u00e1 o formato: {<TipoEvento> : [<Lista de Eventos>]} Sendo que em cada item/evento seguir\u00e1 examente o mesmo formato de JSON definido no endpoint espec\u00edfico de cada Evento no arquivo OpenAPI. Arquivos multim\u00eddia ter\u00e3o endpoint 'upload_file' para adi\u00e7\u00e3o a Evento existente e 'get_file' para recupera\u00e7\u00e3o do arquivo. Neste caso a transmiss\u00e3o de dados segue o padr\u00e3o HTTP \"multipartform/data\"","title":"Endpoints especiais"},{"location":"PerguntaseRespostas/","text":"API de recebimento e centraliza\u00e7\u00e3o dos dados de controle de carga Sistema de registro das opera\u00e7\u00f5es de entrada e sa\u00edda de pessoas e ve\u00edculos, movimenta\u00e7\u00e3o de carga e armazenamento de mercadorias em recintos alfandegados, \u00e1reas alfandegadas ou recintos autorizados a operar com mercadorias sob controle aduaneiro Perguntas e respostas 1. Devo guardar os dados transmitidos? A API de dados de controle de carga e \u00e1reas sob controle aduaneiro foi modelada de forma a capturar os eventos que ocorrem fisicamente e precisam ser controlados nas diversas etapas da log\u00edstica/controle de cargas, ve\u00edculos e pessoas. Assim, as informa\u00e7\u00f5es s\u00e3o as m\u00ednimas necess\u00e1rias para este tipo de controle e procuram espelhar o que seria necess\u00e1rio nos sistemas de controle diversos. O interveniente que envia eventos para esta API deve possuir estes dados em seus sistemas de controle, o que \u00e9 necess\u00e1rio para operar o seu neg\u00f3cio. A prova de cumprimento da obriga\u00e7\u00e3o de transmitir o Evento se d\u00e1 pelo recebimento de um recibo formado por um hash matem\u00e1tico das informa\u00e7\u00f5es transmitidas O controle de Eventos \u00e9 pelo pr\u00f3prio identificador de cada registro/evento do sistema interno. Assim, o Recinto deve guardar os dados transmitidos pelo prazo m\u00ednimo de seis anos mais o corrente, al\u00e9m de ser recomendado guardar tamb\u00e9m o n\u00famero de recibo fornecido pelo Sistema em cada registro. Isto n\u00e3o deve gerar custo adicional para o interveniente, visto que estas informa\u00e7\u00f5es transmitidas s\u00e3o necess\u00e1rias para seu pr\u00f3prio sistema de controle. Em caso da correspond\u00eancia das entidades no sistema do interveniente n\u00e3o ser exata com a informa\u00e7\u00e3o transmitida, o interveniente, ao montar pacote de transmiss\u00e3o, deve enviar o identificador do registro da entidade com maior coincid\u00eancia de informa\u00e7\u00e3o, e gravar o recibo tamb\u00e9m nesta mesma entidade de seu sistema de controle. 2. Como ser\u00e1 a autentica\u00e7\u00e3o? Haver\u00e1 fun\u00e7\u00e3o no portal para representante com Certificado digital gerar chaves p\u00fablica e privada do interveniente para acesso ao Sistema. O representante ent\u00e3o deve baixar a chave privada e utilizar para transmiss\u00e3o, criptografando o conte\u00fado. O Servidor ir\u00e1 usar a chave privada gerada para descriptografar no recebimento, garantindo assim sigilo, n\u00e3o rep\u00fadio e autenticidade. 3. Continuar\u00e1 existindo a Auditoria de Sistemas obrigat\u00f3ria e peri\u00f3dica? Com a nova sistem\u00e1tica, a necessidade de auditoria de sistemas diminui, portanto as normas ser\u00e3o revisadas. Ser\u00e1 recomendada a diminui\u00e7\u00e3o da periodicidade e complexidade da auditoria de sistemas. Em contrapartida, ser\u00e1 necess\u00e1rio uma auditoria simplificada feita durante a pr\u00f3pria avalia\u00e7\u00e3o de alfandegamento e a vigil\u00e2ncia da Receita Federal poder\u00e1, a qualquer momento, solicitar acesso aos Sistemas dos intervenientes para cotejar os dados destes com os dados transmitidos. 4. Como ficam os sistemas atuais que possuem fun\u00e7\u00f5es desenvolvidas especificamente para a Unidade Local (bloqueios, mensagerias e outras comunica\u00e7\u00f5es)? As realidades locais devem ser avaliadas localmente. Sendo func\u1e4des poss\u00edveis de serem transferidas para a API, recomenda-se a centraliza\u00e7\u00e3o. \u00c9 necess\u00e1rio que a Unidade Local avalie o caso espec\u00edfico. 5. Quem s\u00e3o as \"pessoas habituais\" sujeita a biometria? Consta na reda\u00e7\u00e3o da nova norma Art. 5\u00ba.: \u201c As pessoas habituais no recinto ou \u00e1rea dever\u00e3o ser identificadas por reconhecimento biom\u00e9trico...\". Por pessoas habituais entende-se todos que tenham alguma frequ\u00eancia/repeti\u00e7\u00e3o neste acesso. Assim, acesso de passageiros de cruzeiros, passageiros de v\u00f4os, por exemplo, s\u00e3o acessos eventuais. Acesso de funcion\u00e1rios, prestadores de servi\u00e7os, terceirizados, motoristas, despachantes, s\u00e3o exemplos acessos frequentes/habituais.","title":"Perguntas e Respostas"},{"location":"PerguntaseRespostas/#api-de-recebimento-e-centralizacao-dos-dados-de-controle-de-carga","text":"Sistema de registro das opera\u00e7\u00f5es de entrada e sa\u00edda de pessoas e ve\u00edculos, movimenta\u00e7\u00e3o de carga e armazenamento de mercadorias em recintos alfandegados, \u00e1reas alfandegadas ou recintos autorizados a operar com mercadorias sob controle aduaneiro","title":"API de recebimento e centraliza\u00e7\u00e3o dos dados de controle de carga"},{"location":"PerguntaseRespostas/#perguntas-e-respostas","text":"","title":"Perguntas e respostas"},{"location":"PerguntaseRespostas/#1-devo-guardar-os-dados-transmitidos","text":"A API de dados de controle de carga e \u00e1reas sob controle aduaneiro foi modelada de forma a capturar os eventos que ocorrem fisicamente e precisam ser controlados nas diversas etapas da log\u00edstica/controle de cargas, ve\u00edculos e pessoas. Assim, as informa\u00e7\u00f5es s\u00e3o as m\u00ednimas necess\u00e1rias para este tipo de controle e procuram espelhar o que seria necess\u00e1rio nos sistemas de controle diversos. O interveniente que envia eventos para esta API deve possuir estes dados em seus sistemas de controle, o que \u00e9 necess\u00e1rio para operar o seu neg\u00f3cio. A prova de cumprimento da obriga\u00e7\u00e3o de transmitir o Evento se d\u00e1 pelo recebimento de um recibo formado por um hash matem\u00e1tico das informa\u00e7\u00f5es transmitidas O controle de Eventos \u00e9 pelo pr\u00f3prio identificador de cada registro/evento do sistema interno. Assim, o Recinto deve guardar os dados transmitidos pelo prazo m\u00ednimo de seis anos mais o corrente, al\u00e9m de ser recomendado guardar tamb\u00e9m o n\u00famero de recibo fornecido pelo Sistema em cada registro. Isto n\u00e3o deve gerar custo adicional para o interveniente, visto que estas informa\u00e7\u00f5es transmitidas s\u00e3o necess\u00e1rias para seu pr\u00f3prio sistema de controle. Em caso da correspond\u00eancia das entidades no sistema do interveniente n\u00e3o ser exata com a informa\u00e7\u00e3o transmitida, o interveniente, ao montar pacote de transmiss\u00e3o, deve enviar o identificador do registro da entidade com maior coincid\u00eancia de informa\u00e7\u00e3o, e gravar o recibo tamb\u00e9m nesta mesma entidade de seu sistema de controle.","title":"1. Devo guardar os dados transmitidos?"},{"location":"PerguntaseRespostas/#2-como-sera-a-autenticacao","text":"Haver\u00e1 fun\u00e7\u00e3o no portal para representante com Certificado digital gerar chaves p\u00fablica e privada do interveniente para acesso ao Sistema. O representante ent\u00e3o deve baixar a chave privada e utilizar para transmiss\u00e3o, criptografando o conte\u00fado. O Servidor ir\u00e1 usar a chave privada gerada para descriptografar no recebimento, garantindo assim sigilo, n\u00e3o rep\u00fadio e autenticidade.","title":"2. Como ser\u00e1 a autentica\u00e7\u00e3o?"},{"location":"PerguntaseRespostas/#3-continuara-existindo-a-auditoria-de-sistemas-obrigatoria-e-periodica","text":"Com a nova sistem\u00e1tica, a necessidade de auditoria de sistemas diminui, portanto as normas ser\u00e3o revisadas. Ser\u00e1 recomendada a diminui\u00e7\u00e3o da periodicidade e complexidade da auditoria de sistemas. Em contrapartida, ser\u00e1 necess\u00e1rio uma auditoria simplificada feita durante a pr\u00f3pria avalia\u00e7\u00e3o de alfandegamento e a vigil\u00e2ncia da Receita Federal poder\u00e1, a qualquer momento, solicitar acesso aos Sistemas dos intervenientes para cotejar os dados destes com os dados transmitidos.","title":"3. Continuar\u00e1 existindo a Auditoria de Sistemas obrigat\u00f3ria e peri\u00f3dica?"},{"location":"PerguntaseRespostas/#4-como-ficam-os-sistemas-atuais-que-possuem-funcoes-desenvolvidas-especificamente-para-a-unidade-local-bloqueios-mensagerias-e-outras-comunicacoes","text":"As realidades locais devem ser avaliadas localmente. Sendo func\u1e4des poss\u00edveis de serem transferidas para a API, recomenda-se a centraliza\u00e7\u00e3o. \u00c9 necess\u00e1rio que a Unidade Local avalie o caso espec\u00edfico.","title":"4. Como ficam os sistemas atuais que possuem fun\u00e7\u00f5es desenvolvidas especificamente para a Unidade Local (bloqueios, mensagerias e outras comunica\u00e7\u00f5es)?"},{"location":"PerguntaseRespostas/#5-quem-sao-as-pessoas-habituais-sujeita-a-biometria","text":"Consta na reda\u00e7\u00e3o da nova norma Art. 5\u00ba.: \u201c As pessoas habituais no recinto ou \u00e1rea dever\u00e3o ser identificadas por reconhecimento biom\u00e9trico...\". Por pessoas habituais entende-se todos que tenham alguma frequ\u00eancia/repeti\u00e7\u00e3o neste acesso. Assim, acesso de passageiros de cruzeiros, passageiros de v\u00f4os, por exemplo, s\u00e3o acessos eventuais. Acesso de funcion\u00e1rios, prestadores de servi\u00e7os, terceirizados, motoristas, despachantes, s\u00e3o exemplos acessos frequentes/habituais.","title":"5. Quem s\u00e3o as \"pessoas habituais\" sujeita a biometria?"}]}